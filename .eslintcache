[{"/Users/iseungjae/Desktop/ulcer-analysis-project/src/index.js":"1","/Users/iseungjae/Desktop/ulcer-analysis-project/src/reportWebVitals.js":"2","/Users/iseungjae/Desktop/ulcer-analysis-project/src/App.jsx":"3","/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/Header/Header.jsx":"4","/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/Side/Side.jsx":"5","/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/SideContent/SideContent.jsx":"6","/Users/iseungjae/Desktop/ulcer-analysis-project/src/Module/madeSideContent.jsx":"7","/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/Draw.jsx":"8","/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/AnimatedProgressProvider.jsx":"9"},{"size":838,"mtime":1612582917415,"results":"10","hashOfConfig":"11"},{"size":375,"mtime":1612582917415,"results":"12","hashOfConfig":"11"},{"size":5204,"mtime":1614079118802,"results":"13","hashOfConfig":"11"},{"size":384,"mtime":1613394666775,"results":"14","hashOfConfig":"11"},{"size":5159,"mtime":1614078052423,"results":"15","hashOfConfig":"11"},{"size":5865,"mtime":1613394613037,"results":"16","hashOfConfig":"11"},{"size":1089,"mtime":1612588850553,"results":"17","hashOfConfig":"11"},{"size":1392,"mtime":1612597299590,"results":"18","hashOfConfig":"19"},{"size":1154,"mtime":1613391176547,"results":"20","hashOfConfig":"11"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},"1jkhx9u",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"23"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},"su0swm",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/iseungjae/Desktop/ulcer-analysis-project/src/index.js",[],["43","44"],"/Users/iseungjae/Desktop/ulcer-analysis-project/src/reportWebVitals.js",[],"/Users/iseungjae/Desktop/ulcer-analysis-project/src/App.jsx",["45"],"\r\nimport axios from 'axios';\r\nimport { React, useState, useEffect , useCallback} from 'react';\r\nimport './App.css';\r\n// import Draw from './Container/Draw';\r\nimport Hedaer from './Container/Header/Header';\r\nimport Side from './Container/Side/Side';\r\nimport madeSideContent from './Module/madeSideContent'\r\nimport {CircularProgress , Fade} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useDropzone} from 'react-dropzone'\r\nimport { FolderOpenOutlined ,MouseOutlined } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainProgress: {\r\n      color: \"#c0d7e0\"\r\n  }\r\n}));\r\n\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const [file, setFile] = useState('');\r\n  const [previewURL, setPreviewURL] = useState('');\r\n  const [preview, setPreview] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [sideContentArray, setSideContentArray] = useState([]);\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    console.log(acceptedFiles);\r\n    sideContentArray.splice(0);\r\n\r\n    setSideContentArray(sideContentArray);\r\n\r\n    let file = acceptedFiles[0];\r\n    if(file?.type.split('/')[0] !== \"image\"){\r\n      alert('Please upload image File.');\r\n      return;\r\n    }\r\n    let reader = new FileReader();\r\n\r\n    reader.onloadend = (e) => {\r\n      setFile(file);\r\n      setPreviewURL(reader.result);\r\n      // setAfterPreview(<div style = {{width : \"100%\"}}></div>)\r\n      // setAfterPreviewURL(reader.result);\r\n    }\r\n    if (file)\r\n      reader.readAsDataURL(file);\r\n  }, [])\r\n  const {getRootProps, getInputProps} = useDropzone({onDrop})\r\n\r\n  useEffect(() => {\r\n    if (file !== ''){\r\n      setPreview(<img alt=\"./alt.jpeg\" className='img_preview' src={previewURL}></img>);\r\n      // setAfterPreview(<img alt=\"./alt.jpeg\" className='img_preview' src={afterPreviewURL}></img>);\r\n    }\r\n    return () => {\r\n    }\r\n  }, [previewURL, file])\r\n\r\n  const handleFileOnChange = (event) => {\r\n    sideContentArray.splice(0);\r\n\r\n    setSideContentArray(sideContentArray);\r\n\r\n    let file = event.target.files[0];\r\n    if(file?.type.split('/')[0] !== \"image\"){\r\n      alert('Please upload image File.');\r\n      return;\r\n    }\r\n    let reader = new FileReader();\r\n\r\n    reader.onloadend = (e) => {\r\n      setFile(file);\r\n      setPreviewURL(reader.result);\r\n      // setAfterPreview(<div style = {{width : \"100%\"}}></div>)\r\n      // setAfterPreviewURL(reader.result);\r\n    }\r\n    if (file)\r\n      reader.readAsDataURL(file);\r\n  }\r\n\r\n  const handleFileButtonClick = (e, fileRef) => {\r\n    e.preventDefault();\r\n    fileRef.current.click();\r\n  }\r\n\r\n  async function handleSendClick(e) {\r\n    try {\r\n      if (file !== '') {\r\n        setLoading(true);\r\n        //testing code\r\n        let form = new FormData();\r\n        form.append(\"image\", file)\r\n        // const tome = await new Promise((res) => {setTimeout(()=>res(\"dd\"),1000)})\r\n        const response = await axios.post('/data', form);\r\n        console.log(response);\r\n        const { result, BGU, EGC, AGC } = response.data;\r\n\r\n        setPreviewURL(\"data:image/png;base64,\" + result);\r\n        setPreview(<img alt=\"./alt.jpeg\" className='img_preview' src={previewURL}></img>);\r\n\r\n        sideContentArray.splice(0);\r\n\r\n        sideContentArray.push(...madeSideContent([{BGU}, {EGC}, {AGC}]));\r\n        setSideContentArray(sideContentArray);\r\n\r\n        \r\n        setLoading(false);\r\n      }else{\r\n        alert('Please, Upload File');\r\n      }\r\n    } catch (error) {\r\n\r\n      // let fakeData = {\r\n      //   result : `/fakeResultImg.png`,\r\n      //   BGU : { value : 13 },\r\n      //   EGC : {\r\n      //     value : 78.2,\r\n      //     depth : {\r\n      //       T1a : 21.8,\r\n      //       T1b : 78.2\r\n      //     }\r\n      //   },\r\n      //   AGC : { value : 24.6 }\r\n      // }\r\n\r\n      // const {result, BGU, EGC, AGC} = fakeData;\r\n\r\n      // setPreview(<img alt=\"./alt.jpeg\" className='img_preview' src={result}></img>);\r\n\r\n      // sideContentArray.splice(0);\r\n\r\n      // sideContentArray.push(...madeSideContent([{BGU}, {EGC}, {AGC}]));\r\n      // setSideContentArray(sideContentArray);\r\n      // console.log(sideContentArray);\r\n\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <Fade in = {loading}><div className = \"screenblru\"><CircularProgress size={90} className = {classes.mainProgress}/></div></Fade>\r\n    <div className=\"App\">\r\n      <div {...getRootProps()} className=\"priveiw-rapping\">\r\n        {(preview === null) ? \r\n        <div className = 'non-priveiw'>\r\n          '\r\n          <FolderOpenOutlined />\r\n          <span>\r\n          SELECT FILE'\r\n          </span>&nbsp;&nbsp;or &nbsp; <MouseOutlined /> Drag and Drop the file here\r\n          </div>\r\n         :preview}\r\n      </div>\r\n      {/* <Draw canvasRef ={canvasRef} sizeRef = {divRef}></Draw> */}\r\n      <Hedaer title=\"AI-assisted Endoscopic Diagnostic Device\"></Hedaer>\r\n      <Side\r\n        onChangeFile={handleFileOnChange}\r\n        onFileButtonClick={handleFileButtonClick}\r\n        onSendFile = {handleSendClick}\r\n        sideContentArray = {sideContentArray}\r\n        fileProps = {getInputProps}\r\n        >\r\n      </Side>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/Header/Header.jsx",[],"/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/Side/Side.jsx",[],"/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/SideContent/SideContent.jsx",[],"/Users/iseungjae/Desktop/ulcer-analysis-project/src/Module/madeSideContent.jsx",[],"/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/Draw.jsx",["46","47"],"import React, { createRef, useEffect , useState } from \"react\";\nfunction Draw({sizeRef, canvasRef}) {\n    const [height, setheight] = useState();\n    const [width, setwidth] = useState();\n    let canvas;\n    let pos = { drawable: false, X: -1, Y: -1 };\n    let ctx; \n    useEffect(() => {\n        canvas = canvasRef.current; ctx = canvas.getContext(\"2d\");\n        \n        canvas.addEventListener(\"mousedown\", initDraw);\n        canvas.addEventListener(\"mousemove\", draw); canvas.addEventListener(\"mouseup\", finishDraw);\n        canvas.addEventListener(\"mouseout\", finishDraw);\n        setheight(sizeRef.current.offsetHeight);\n        setwidth(sizeRef.current.offsetWidth);\n        console.log(window.innerwidth);\n    }, []);\n    function initDraw(event) {\n        ctx.strokeStyle = \"red\"\n        ctx.beginPath();\n        pos = { drawable: true, ...getPosition(event) };\n        ctx.moveTo(pos.X, pos.Y);\n    }\n    function draw(event) {\n        if (pos.drawable) {\n            pos = { ...pos, ...getPosition(event) };\n            ctx.lineTo(pos.X, pos.Y); ctx.stroke();\n        }\n    }\n    function finishDraw() { pos = { drawable: false, X: -1, Y: -1 }; }\n    function getPosition(event) {\n        return { X: event.offsetX, Y: event.offsetY };\n    }\n    return (<> <canvas ref={canvasRef} id = \"canvers\" className = {\"canvers\"} width={width} height={height} /> </>);\n} export default Draw;",["48","49"],"/Users/iseungjae/Desktop/ulcer-analysis-project/src/Container/AnimatedProgressProvider.jsx",[],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":49,"column":6,"nodeType":"56","endLine":49,"endColumn":8,"suggestions":"57"},{"ruleId":"54","severity":1,"message":"58","line":10,"column":18,"nodeType":"59","endLine":10,"endColumn":35},{"ruleId":"54","severity":1,"message":"60","line":10,"column":43,"nodeType":"61","endLine":10,"endColumn":66},{"ruleId":"50","replacedBy":"62"},{"ruleId":"52","replacedBy":"63"},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'sideContentArray'. Either include it or remove the dependency array. You can also do a functional update 'setSideContentArray(s => ...)' if you only need 'sideContentArray' in the 'setSideContentArray' call.","ArrayExpression",["66"],"Assignments to the 'canvas' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","MemberExpression","Assignments to the 'ctx' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","CallExpression",["64"],["65"],"no-global-assign","no-unsafe-negation",{"desc":"67","fix":"68"},"Update the dependencies array to be: [sideContentArray]",{"range":"69","text":"70"},[1563,1565],"[sideContentArray]"]